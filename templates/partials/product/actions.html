{% import "partials/atoms/button.html" as button %}
{% import "partials/icons.html" as icons %}

{% macro product_toggle(product_id, is_liked) %}
    {% call button::as_span_start(
        href="/shopping_list/toggle-like", 
        button_type="secondary", 
        method="post", 
        target="", 
        swap="outerHTML", 
        is_ajax_action=false,
        attributes=format!("hx-vals='{{\"product_id\": \"{}\"}}' class='cursor-pointer inline-flex no-underline gap-0.5 justify-center overflow-hidden text-sm font-medium transition rounded-full py-1 px-3 bg-emerald-500 hover:bg-emerald-400 cursor-pointer rounded-full py-1 px-3 bg-zinc-800/40 text-zinc-400 ring-1 ring-inset ring-zinc-800 hover:bg-zinc-800 hover:text-zinc-300'", product_id),
    ) %}
        {% call icons::shopping_bag(6, 6, "text-emerald-400 hover:text-emerald-300", is_liked) %}
    {% call button::as_span_end() %}
{% endmacro %}

{% macro product_toggle_for_list(product_id, shopping_list_id, is_liked) %}
    {% call button::as_span_start(
        href="/shopping_list/toggle-like", 
        button_type="secondary", 
        method="post", 
        target=format!("[id='{}']", product_id), 
        swap="outerHTML", 
        is_ajax_action=false,
        attributes=format!("hx-vals='{{\"product_id\": \"{}\", \"shopping_list_id\": {}}}' class='cursor-pointer inline-flex no-underline gap-0.5 justify-center overflow-hidden text-sm font-medium transition rounded-full py-1 px-3 bg-emerald-500 hover:bg-emerald-400 cursor-pointer rounded-full py-1 px-3 bg-zinc-800/40 text-zinc-400 ring-1 ring-inset ring-zinc-800 hover:bg-zinc-800 hover:text-zinc-300'", product_id, shopping_list_id),
    ) %}
        {% call icons::shopping_bag(6, 6, "text-emerald-400 hover:text-emerald-300", is_liked) %}
    {% call button::as_span_end() %}
{% endmacro %}